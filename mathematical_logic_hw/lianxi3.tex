\documentclass[12pt, a4paper, oneside]{ctexart}
\usepackage{amsmath, amsthm, amssymb, bm, color, framed, graphicx, hyperref, mathrsfs}
\usepackage{geometry}
\geometry{left=2.54cm,right=2.54cm,top=3.18cm,bottom=3.18cm}
\title{\textbf{数理逻辑作业4: lianxi3}}
\author{hsuchou}
\date{\today}
\linespread{1.5}
\definecolor{shadecolor}{RGB}{240,249,254}
\newcounter{problemname}
\newenvironment{problem}{\begin{shaded}\stepcounter{problemname}\par\noindent\textbf{题目\arabic{problemname}. }}{\end{shaded}\par}
\newenvironment{solution}{\par\noindent\textbf{解答. }}{\par}
\newenvironment{note}{\par\noindent\textbf{题目\arabic{problemname}的注记. }}{\par}

\begin{document}

\maketitle

\subsection*{3. Show that the following formulas are logically valid.}
\begin{problem}
    \begin{equation*}
        \forall x A(x)\leftrightarrow \neg \exists x\neg A(x).
    \end{equation*}
\end{problem}

\begin{solution}
    先证 $\rightarrow$.
    欲证
    \begin{equation*}
        \models \forall x A(x)\rightarrow \neg \exists x\neg A(x),
    \end{equation*}
    根据 $(\rightarrow^+)$ 规则，可先证
    \begin{equation*}
        \forall x A(x) \models \neg \exists x\neg A(x),
    \end{equation*}
    反证法。假设
    \begin{equation*}
       \forall x A(x) \not\models \neg \exists x\neg A(x),
    \end{equation*}
    则 $\exists v\in D$ 使得：
        \begin{align*}
            \forall x A(x)^v&=1,\ (1)\\
            (\neg \exists x\neg A(x))^v&=0,\ (2)
        \end{align*}
    $(2)$ 等价于，
        \begin{align*}
             \exists x\neg A(x)^v=1,\ (3)
        \end{align*}
    由 $A(x)$ 构造 $A(u)$，$u$ 不在 $A(x)$ 中出现，\\
    由 $(3)$，存在 $a\in D$，使得 $\neg A(u)^{v(u/a)}=1$,
    即 
    \begin{align*}
        \exists a\in D, A(u)^{v(u/a)} = 0,\ (4)
    \end{align*}
    由 $(1)$ 知
    $\forall xA(x)^v=1$，这与 $(4)$ 矛盾，
    故 $\rightarrow$ 部分得证。
    \\
    再证 $\leftarrow$. 欲证明
    \begin{align*}
         \models \neg \exists x\neg A(x)\rightarrow \forall x A(x),
    \end{align*}
    可先证
    \begin{align*}
         \neg \exists x\neg A(x)\models \forall x A(x),
    \end{align*}
    反证法。假设
    \begin{align*}
         \neg \exists x\neg A(x)\not\models \forall x A(x),
    \end{align*}
    则 $\exists v\in D$ 使得：
    \begin{align*}
         (\neg \exists x\neg A(x))^v=1,\ (5)\\
         \forall x A(x)^v=0,\ (6)
    \end{align*}
    $(5)$ 等价于
    \begin{align*}
        \exists x\neg A(x)^v=0, \ (6)
    \end{align*}
    由 $A(x)$ 构造 $A(u)$，$u$ 不在 $A(x)$ 中出现，\\
    由 $(6)$，存在 $a\in D$，使得 $\neg A(u)^{v(u/a)} =0$，即
    \begin{align*}
        \exists a\in D, A(u)^{v(u/a)}=1,\ (7)
    \end{align*}
    这与 $(6)$ 矛盾，故 $\leftarrow$ 部分得证。
    \\
    综上所述，题中该式逻辑上合法。
\end{solution}

\begin{problem}
    \begin{align*}
        (\forall x A(x)\lor \forall xB(x))
        \rightarrow
        \forall x(A(x)\lor B(x)).
    \end{align*}
\end{problem}

\begin{solution}
    欲证
    \begin{align*}
        \models
        (\forall x A(x)\lor \forall xB(x))
        \rightarrow
        \forall x(A(x)\lor B(x)).
    \end{align*}
    可先证
    \begin{align*}
        (\forall x A(x)\lor \forall xB(x))
        \models
        \forall x(A(x)\lor B(x)),
    \end{align*}
    反证法。假设 
    \begin{align*}
        (\forall x A(x)\lor \forall xB(x))
        \not\models
        \forall x(A(x)\lor B(x)),
    \end{align*}
    则 $\exists v\in D$，使得
    \begin{align*}
        (\forall x A(x)\lor \forall xB(x))^v=1,\ (1)\\
        \forall x(A(x)\lor B(x))^v=0,\ (2)
    \end{align*}
    由 $(1)$，
    得 $\forall xA(x)^v=1$，或者 
    $\forall xB(x)^v=1$，\\
    不失一般性地假设
    \begin{align*}
        \forall x A(x)^v=1, \ (3)
    \end{align*}
    则从 $A(x), B(x)$ 构造 $A(u), B(u)$，
    其中 $u$ 不在 $A(x), B(x)$ 中出现，\\
    由 $(3)$，
    \begin{align*}
        \forall a\in D, A(u)^{v(u/a)}=1,\ (4)
    \end{align*}
    由 $(2)$，
    \begin{align*}
        \forall a\in D, (A(u)\lor B(u))^{v(u/a)}=0,\ (5)
    \end{align*}
    由 $(5)$，
    \begin{align*}
        \forall a\in D, A(u)^{v(u/a)}=0, B(u)^{v(u/a)}=0,
    \end{align*}
    这与 $(4)$ 矛盾，故该题中公式逻辑合法性得证。
\end{solution}

\newpage
\subsection*{4. Determine whether the following formulas are logically valid.}
\begin{problem}
    \begin{equation*}
        \neg\exists y\forall x
        (
            p_1^2(x,y)\leftrightarrow
            \neg p_1^2(x,x)
        ).
    \end{equation*}
\end{problem}
\begin{solution}
    Logically valid.\\
    欲证
    \begin{align*}
        \vDash\neg\exists y\forall x
        (
            p_1^2(x,y)\leftrightarrow
            \neg p_1^2(x,x)
        ),
    \end{align*}
    即证
    \begin{align*}
        \vDash
        \forall y\neg\forall x
        (
            p_1^2(x,y)\leftrightarrow
            \neg p_1^2(x,x)
        ),
    \end{align*}
    即证
    \begin{align*}
        \vDash
        \forall y\exists x\neg
        (
            p_1^2(x,y)\leftrightarrow
            \neg p_1^2(x,x)
        ),
    \end{align*}
    即证
    \begin{align*}
        \vDash
        \forall y\exists x
        (
            p_1^2(x,y)\leftrightarrow
            p_1^2(x,x)
        ),
    \end{align*}
    即证对任意赋值$v\in D$
    \begin{align*}
        \forall y\exists x
        (
            p_1^2(x,y)\leftrightarrow
            p_1^2(x,x)
        )^v=1,
    \end{align*}
    即证
    \begin{align*}
        \text{对任意}b\in D,\text{存在}a\in D,
        (
            p_1^2(x,y)\leftrightarrow
            p_1^2(x,x)
        )^{v(x/a, y/b)}=1, (1)
    \end{align*}
    易知在(1)式中总能在论域中取到$a=b$ ，故原式逻辑合法。
\end{solution}
\begin{problem}
    \begin{equation*}
        \exists x\exists y
        (
            p_1^2(x,y)\rightarrow
            \forall z p_1^2(z,y)
        ).
    \end{equation*}
\end{problem}
\begin{solution}
    Logically valid.\\
    反证法。假设
    \begin{align*}
        \not\vDash
        \exists x\exists y
        (
            p_1^2(x,y)\rightarrow
            \forall z p_1^2(z,y)
        ),
    \end{align*}
    则存在 $v\in D$，使得
    \begin{align*}
        \neg(
           \exists x\exists y
            (
                p_1^2(x,y)\rightarrow
                \forall z p_1^2(z,y)
            )
        )^v = 0,
    \end{align*}
    即
    \begin{align*}
        \forall x\forall y
        \neg(
            p_1^2(x,y)\rightarrow
            \forall z p_1^2(z,y)
        )^v = 1,
    \end{align*}
    取 $w$ 不在 $p_1^2(z, y)$ 中出现，构造 $p_1^2(w,y)$，
    则
    \begin{align*}
        \text{任意\ } c\in D,
        (\forall x\forall y
        \neg(
            p_1^2(x,y)\rightarrow
            p_1^2(w,y)
        ))^{v(w/c)} = 1,
    \end{align*}
    取 $u, t$ 不在 $p_1^2(x,y), p_1^2(w,y)$ 中出现，构造
    $p_1^2(u,t), p_1^2(w,t)$，则
    \begin{align*}
        \text{任意\ } a,b,c\in D,
        \neg(
            p_1^2(u,t)\rightarrow
            p_1^2(w,t)^{v(w/c)}
        )^{v(u/a,t/b)}=1,
    \end{align*}
    即
    \begin{align*}
        \text{任意\ } a,b,c\in D,
        (
            p_1^2(u,t)\rightarrow
            p_1^2(w,t)^{v(w/c)}
        )^{v(u/a,t/b)}=0, \ (1)
    \end{align*}
    由 $(1)$可得：
    \begin{align*}
        \text{任意\ } a,b\in D,
        p_1^2(u,t)^{v(u/a, t/b)}=1, \ (2)\\
        \text{任意\ } a,b,c\in D,
        p_1^2(w,t)^{v(u/a, w/c, t/b)}=0, \ (3)
    \end{align*}
    取 $a=c$易得 (2), (3) 矛盾，故原式逻辑合法性得证。
    
\end{solution}
\begin{problem}
    \begin{equation*}
        \exists x\exists y
        (p_1^1(x)\rightarrow p_2^1(y))
        \rightarrow
        \exists x(p_1^1(x)\rightarrow p_2^1(x)).
    \end{equation*}
\end{problem}
\begin{solution}
    Logically valid.\\
    反证法。假设
    \begin{align*}
        \not\vDash\exists x\exists y
        (p_1^1(x)\rightarrow p_2^1(y))
        \rightarrow
        \exists x(p_1^1(x)\rightarrow p_2^1(x)),
    \end{align*}
    即存在赋值 $v\in D$，使得
    \begin{align*}
        (\exists x\exists y
        (p_1^1(x)\rightarrow p_2^1(y))
        \rightarrow
        \exists x(p_1^1(x)\rightarrow p_2^1(x)))^v=0,
    \end{align*}
    则可得
    \begin{align*}
        (\exists x\exists y
        (p_1^1(x)\rightarrow p_2^1(y)))^v=1,\\
        (\exists x(p_1^1(x)\rightarrow p_2^1(x)))^v=0,
    \end{align*}
    则知
    \begin{align*}
        \text{存在}a,b\in D, \ 
         &(p_1^1(x)\rightarrow p_2^1(y))^{v(x/a,y/b)}=1,&(1)\\
        \text{任意}c\in D,\ 
        &(p_1^1(x)\rightarrow p_2^1(x))^{v(x/c)}=0,&(2)
    \end{align*}
    由 (2)，
    \begin{align*}
        \text{任意}c\in D,
        p_1^1(x)^{v(x/c)}=1,p_2^1(x)^{v(x/c)}=0 (3)
    \end{align*}
    由(3)，
    \begin{align*}
        \text{任意}a,b\in D,
        (p_1^1(x)\rightarrow p_2^1(y))^{v(x/a, y/b)}=0,
    \end{align*}
    这与 (1) 矛盾。\\
    故原式合法性得证。
\end{solution}
\end{document}